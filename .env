# EON 微服务脚手架环境配置文件
# 复制此文件为 .env 并根据实际情况修改配置

# ===========================================
# 基础服务配置
# ===========================================

# MySQL 配置
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=eon_auth
MYSQL_USERNAME=eon
MYSQL_PASSWORD=eon123

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# Nacos 配置
NACOS_SERVER_ADDR=localhost:8848
NACOS_USERNAME=nacos
NACOS_PASSWORD=nacos
NACOS_NAMESPACE=public
NACOS_GROUP=DEFAULT_GROUP
NACOS_DISCOVERY_ENABLED=true

# ===========================================
# 应用服务配置
# ===========================================

# 服务端口配置
SERVER_PORT=3000
GATEWAY_PORT=9999
UPMS_PORT=4000

# Spring Profile
SPRING_PROFILES_ACTIVE=dev

# 日志配置
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_FILE_PATH=./logs/eon-auth.log

# Actuator 监控配置
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always

# ===========================================
# 安全配置
# ===========================================

# JWT 配置
JWT_SECRET=MySecretKey12345678901234567890123456789012345678901234567890
JWT_EXPIRATION=86400

# OAuth2 配置
OAUTH2_CLIENT_ID=web-client
OAUTH2_CLIENT_SECRET=web-secret
OAUTH2_REDIRECT_URI=http://localhost:8080/authorized

# ===========================================
# 开发环境配置
# ===========================================

# 开发环境数据库配置
DEV_MYSQL_HOST=localhost
DEV_MYSQL_PORT=3306
DEV_MYSQL_DATABASE=eon_auth_dev
DEV_MYSQL_USERNAME=root
DEV_MYSQL_PASSWORD=root

# 开发环境 Redis 配置
DEV_REDIS_HOST=localhost
DEV_REDIS_PORT=6379
DEV_REDIS_PASSWORD=
DEV_REDIS_DATABASE=0

# 开发环境 Nacos 配置
DEV_NACOS_SERVER_ADDR=localhost:8848
DEV_NACOS_USERNAME=nacos
DEV_NACOS_PASSWORD=nacos

# ===========================================
# 测试环境配置
# ===========================================

# 测试环境数据库配置
TEST_MYSQL_HOST=test-mysql
TEST_MYSQL_PORT=3306
TEST_MYSQL_DATABASE=eon_auth_test
TEST_MYSQL_USERNAME=test_user
TEST_MYSQL_PASSWORD=test_pass

# 测试环境 Redis 配置
TEST_REDIS_HOST=test-redis
TEST_REDIS_PORT=6379
TEST_REDIS_PASSWORD=
TEST_REDIS_DATABASE=1

# 测试环境 Nacos 配置
TEST_NACOS_SERVER_ADDR=test-nacos:8848
TEST_NACOS_USERNAME=nacos
TEST_NACOS_PASSWORD=nacos-test

# ===========================================
# 生产环境配置
# ===========================================

# 生产环境数据库配置
PROD_MYSQL_HOST=prod-mysql
PROD_MYSQL_PORT=3306
PROD_MYSQL_DATABASE=eon_auth_prod
PROD_MYSQL_USERNAME=prod_user
PROD_MYSQL_PASSWORD=prod_pass

# 生产环境 Redis 配置
PROD_REDIS_HOST=prod-redis
PROD_REDIS_PORT=6379
PROD_REDIS_PASSWORD=prod_redis_password
PROD_REDIS_DATABASE=0

# 生产环境 Nacos 配置
PROD_NACOS_SERVER_ADDR=nacos-cluster:8848
PROD_NACOS_USERNAME=prod_nacos
PROD_NACOS_PASSWORD=prod_nacos_pass
PROD_NACOS_NAMESPACE=production

# ===========================================
# Docker 配置
# ===========================================

# Docker 镜像标签
DOCKER_REGISTRY=registry.example.com
DOCKER_IMAGE_TAG=latest

# Docker Compose 项目名称
COMPOSE_PROJECT_NAME=eon

# ===========================================
# 监控配置
# ===========================================

# Prometheus 配置
PROMETHEUS_HOST=localhost
PROMETHEUS_PORT=9090

# Grafana 配置
GRAFANA_HOST=localhost
GRAFANA_PORT=3000
GRAFANA_USERNAME=admin
GRAFANA_PASSWORD=admin

# ===========================================
# 日志配置
# ===========================================

# 日志级别
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_APP=DEBUG
LOGGING_LEVEL_SECURITY=DEBUG
LOGGING_LEVEL_DATABASE=INFO
LOGGING_LEVEL_CACHE=INFO

# 日志文件配置
LOGGING_FILE_NAME=eon-auth
LOGGING_FILE_PATH=./logs
LOGGING_FILE_MAX_SIZE=10MB
LOGGING_FILE_MAX_HISTORY=30

# ===========================================
# 应用性能配置
# ===========================================

# JVM 配置
JAVA_OPTS=-Xms512m -Xmx1024m -XX:+UseG1GC -XX:MaxGCPauseMillis=200

# 连接池配置
DATASOURCE_INITIAL_SIZE=5
DATASOURCE_MIN_IDLE=5
DATASOURCE_MAX_ACTIVE=20
DATASOURCE_MAX_WAIT=60000

# Redis 连接池配置
REDIS_POOL_MAX_IDLE=8
REDIS_POOL_MIN_IDLE=0
REDIS_POOL_MAX_TOTAL=20
REDIS_POOL_MAX_WAIT=3000

# ===========================================
# 业务配置
# ===========================================

# 文件上传配置
FILE_UPLOAD_MAX_SIZE=10MB
FILE_UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx

# 缓存配置
CACHE_DEFAULT_EXPIRATION=3600
CACHE_MAXIMUM_SIZE=1000

# API 配置
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_PER_MINUTE=100
API_RATE_LIMIT_PER_HOUR=1000

# ===========================================
# 开发工具配置
# ===========================================

# 开发模式配置
DEV_MODE_ENABLED=true
DEV_HOT_RELOAD=true
DEV_SWAGGER_ENABLED=true

# 数据库配置
DEV_DATABASE_AUTO_CREATE=true
DEV_DATABASE_AUTO_MIGRATE=true

# 测试配置
TEST_DATABASE_AUTO_CREATE=true
TEST_DATABASE_AUTO_MIGRATE=true
TEST_DATA_AUTO_INSERT=true